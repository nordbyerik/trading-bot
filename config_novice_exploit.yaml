# Kalshi Trading Bot Configuration
# Focus: Exploiting Novice Trader Behaviors
#
# This configuration enables analyzers designed to identify and exploit
# common mistakes made by inexperienced prediction market traders.

# API settings
cache_ttl: 30
rate_limit: 20.0
market_status: open
max_markets_to_analyze: 100
min_market_volume: 25

# ============================================================================
# NOVICE EXPLOITATION ANALYZERS
# ============================================================================

analyzers:
  # --------------------------------------------------------------------------
  # Event Volatility Crush Analyzer
  # Exploits: Novices buying into volatility spikes without understanding
  #          that prices normalize after events (similar to IV crush in options)
  # --------------------------------------------------------------------------
  event_volatility:
    enabled: true
    config:
      # Hard thresholds - high-quality opportunities
      hard_min_price_change_pct: 20.0  # 20% move in 24h
      hard_min_volume_spike: 3.0        # 3x volume increase
      hard_hours_lookback: 24

      # Soft thresholds - more opportunities, lower quality
      soft_min_price_change_pct: 15.0  # 15% move in 48h
      soft_min_volume_spike: 2.0        # 2x volume increase
      soft_hours_lookback: 48

      min_volume: 100
      exclude_near_expiration_hours: 6

  # --------------------------------------------------------------------------
  # Enhanced Theta Decay Analyzer
  # Exploits: Novices holding uncertain positions too close to expiration
  #          without understanding exponential time decay
  # --------------------------------------------------------------------------
  theta_decay:
    enabled: true
    config:
      # Standard thresholds
      hard_hours_to_expiration: 24.0
      hard_price_tolerance: 0.15        # 15¢ from 0 or 1
      soft_hours_to_expiration: 48.0
      soft_price_tolerance: 0.20        # 20¢ from 0 or 1
      min_hours_remaining: 1.0

      # NEW: Novice panic exploitation
      panic_zone_hours: 6.0             # Final 6 hours = panic zone
      panic_multiplier: 2.0             # Double edge in panic zone
      dead_cat_bounce_threshold: 0.10   # Detect irrational 10%+ spikes

  # --------------------------------------------------------------------------
  # Recency Bias Analyzer
  # Exploits: Novices overreacting to recent news and extrapolating short trends
  # --------------------------------------------------------------------------
  recency_bias:
    enabled: true
    config:
      # Hard thresholds
      hard_min_deviation_pct: 25.0      # 25% deviation from mean
      hard_min_spike_hours: 12
      hard_stagnation_threshold: 0.05   # Movement < 5% after spike

      # Soft thresholds
      soft_min_deviation_pct: 15.0
      soft_min_spike_hours: 24
      soft_stagnation_threshold: 0.08

      lookback_hours: 72                # 3-day context
      recent_window_hours: 6
      min_data_points: 10
      min_volume: 50

  # --------------------------------------------------------------------------
  # Psychological Level Analyzer
  # Exploits: Multiple behavioral biases around price levels
  # --------------------------------------------------------------------------
  psychological_levels:
    enabled: true
    config:
      # Lottery ticket bias (1-5¢)
      lottery_max_price: 0.05           # Flag markets under 5¢
      lottery_min_volume: 50
      lottery_implied_odds_threshold: 30.0  # Flag if odds > 30:1

      # Sure thing trap (95-99¢)
      sure_thing_min_price: 0.95        # Flag markets over 95¢
      sure_thing_min_volume: 100
      sure_thing_opportunity_cost_cents: 2.0

      # Round number clustering
      round_numbers: [0.25, 0.50, 0.75]
      round_number_tolerance: 0.02      # ±2¢
      round_min_volume: 75
      round_stickiness_hours: 6

      # 50¢ anchoring (uncertainty paralysis)
      anchor_center: 0.50
      anchor_tolerance: 0.05            # 45-55¢ range
      anchor_min_duration_hours: 12
      anchor_min_volume: 100

  # --------------------------------------------------------------------------
  # Liquidity Trap Analyzer
  # Exploits: Novices trading thin markets without checking depth
  # --------------------------------------------------------------------------
  liquidity_trap:
    enabled: true
    config:
      # Hard thresholds
      hard_max_spread_cents: 5.0        # Deceptively tight spread
      hard_max_top_depth: 100           # But very thin depth
      hard_min_price_impact_pct: 15.0   # Significant slippage

      # Soft thresholds
      soft_max_spread_cents: 8.0
      soft_max_top_depth: 200
      soft_min_price_impact_pct: 10.0

      test_order_size: 100              # Simulate 100 contract order
      depth_levels_to_check: 3
      min_volume_for_trap: 25
      max_volume_threshold: 500         # Don't flag liquid markets
      illiquidity_premium_cents: 3.0

  # --------------------------------------------------------------------------
  # Classic Analyzers (still useful for novice exploitation)
  # --------------------------------------------------------------------------

  spread:
    enabled: true
    config:
      min_spread_cents: 8
      wide_spread_cents: 15
      very_wide_spread_cents: 25

  arbitrage:
    enabled: true
    config:
      min_arb_cents: 2
      transaction_cost_cents: 1

  imbalance:
    enabled: true
    config:
      min_imbalance_ratio: 3.0
      strong_imbalance_ratio: 5.0
      min_total_liquidity: 100

  # Disable less relevant analyzers for novice exploitation focus
  mispricing:
    enabled: false

  momentum_fade:
    enabled: false  # Covered by event_volatility and recency_bias

  correlation:
    enabled: false

  ma_crossover:
    enabled: false

  rsi:
    enabled: false

  bollinger_bands:
    enabled: false

  macd:
    enabled: false

  volume_trend:
    enabled: false

# ============================================================================
# NOTIFICATION SETTINGS
# ============================================================================

notifiers:
  console:
    enabled: true
    min_confidence: low  # Show all opportunities

  file:
    enabled: true
    path: novice_exploits.json
    format: json

  # Email notifications (configure with your settings)
  email:
    enabled: false
    smtp_host: smtp.gmail.com
    smtp_port: 587
    sender: your-email@gmail.com
    recipients:
      - trader@example.com
    username: your-email@gmail.com
    password: your-app-password
    use_tls: true

  # Slack notifications (configure with your webhook)
  slack:
    enabled: false
    webhook_url: https://hooks.slack.com/services/YOUR/WEBHOOK/URL
    channel: "#trading-alerts"
